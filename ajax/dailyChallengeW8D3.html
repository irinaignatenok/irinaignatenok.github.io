<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<div>
		<label for="search">Search</label>
		<input id="input" type="text" name="search">
		<button type="submit" onclick="getDoc()">Go</button>
		
	</div>
		<div id="space"></div><br>
		<button type="submit" id="btnDelete">Delete</button>

<script type="text/javascript">
	
 function getDoc() {
 let xhr = new XMLHttpRequest();
let input =  document.getElementsByTagName("input")[0].value;

let url = "https://api.giphy.com/v1/gifs/search?api_key=Z6GhaWEBTxywxEiyn2Sq3DgfckIEMSWd&q=" + input 
 xhr.open('GET', url);
 xhr.send();
 xhr.responseType = 'json'; 

 xhr.onload = function() {
	if(xhr.status != 200) {
		console.log(`Error: ${xhr.status}: ${xht.statusText}`)
	} else{
console.log(xhr.response.data);
built(xhr.response.data)
}
}

xhr.onerror = function () {
        console.log("Fail");
    };

   const built = (arr) => {
   	const space = document.getElementById("space")
   	arr.forEach((item, i) => {
   		let div = document.createElement("div");
   		div.setAttribute("class", "main");
   		let parag = document.createElement("p");
   		let img = document.createElement("ifame");


   		parag.innerText = item.title;
   		img.setAttribute("src", item.embed_url)
   		div.appendChild(img);
   		div.appendChild(parag);


   		space.appendChild(div);
   	})
   }
}

let deleteItem = document.getElementById("btnDelete");
deleteItem.addEventListener("click", deleteAll);
function deleteAll() {
document.getElementById("input").value = "";
let clearAll = Array.from(document.document.getElementById("space"));
clearAll.forEach(elem => elem.remove())


}


</script>
</body>
</html>